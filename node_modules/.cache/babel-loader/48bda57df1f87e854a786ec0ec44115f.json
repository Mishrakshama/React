{"ast":null,"code":"import { createAction } from 'redux-actions';\nimport axios from 'axios';\nimport issueConstants from '../constants/issueConstants.js';\nexport const logoutMe = createAction(issueConstants.LOGOUT);\nexport const submitFB = createAction(issueConstants.SUBMIT_FEEDBACK);\nexport const getProduct = createAction(issueConstants.PRODUCT_DETAILS);\nexport const getPurchasedItems = createAction(issueConstants.PURCHASED_ITEMS);\nexport const getFeedback = createAction(issueConstants.FEEDBACK_DETAILS);\nexport function loginAction(data) {\n  return dispatch => {\n    axios.get('http://localhost:4000/users').then(res => {\n      let value = res.data;\n      var result = value.find(val => val.username === data.username && val.password === data.password);\n\n      if (result) {\n        dispatch(loginMe(true, result.username));\n      } else {\n        dispatch(loginMe(false));\n      }\n    });\n  };\n}\nexport function loginMe(isAuthenticated, username) {\n  return {\n    type: 'LOGIN',\n    isAuthenticated: isAuthenticated,\n    user: username\n  };\n} // LOGOUT ACTION\n\nexport function logout() {\n  return dispatch => {\n    dispatch(logoutMe());\n  };\n} // GET PRODUCT LIST\n\nexport function getPurchasedProductList() {\n  return dispatch => {\n    axios.get('http://localhost:4000/products').then(response => dispatch(getPurchasedItems({\n      productList: response.data\n    }))).catch(err => console.log(err));\n  };\n} // SUBMIT_FEEDBACK\n\nexport function submitFeedback(data) {\n  return dispatch => {\n    axios(`http://localhost:4000/feedbackDetails`, {\n      method: 'POST',\n      crossdomain: true,\n      data: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      dispatch(submitFB(res.data));\n    }).catch(err => dispatch(submitFB(err)));\n  };\n} // PRODUCT_DETAILS\n\nexport function getProductDetails(data) {\n  let pdtId = data.pdtId;\n  return dispatch => {\n    axios.get(`http://localhost:4000/products/${pdtId}`).then(res => {\n      dispatch(getProduct({\n        productDetail: res.data\n      }));\n    }).catch(err => dispatch(getProduct(err)));\n  };\n}\nexport function getFeedbackDetails(data) {\n  let pdtId = data.pdtId;\n  return dispatch => {\n    axios.get(`http://localhost:4000/feedbackDetails?pdtCode=${pdtId}`).then(res => {\n      dispatch(getFeedback(res.data));\n    }).catch(err => dispatch(getFeedback(err)));\n  };\n}","map":{"version":3,"sources":["C:/Users/HP/Desktop/customerserviceportal1646929165944/customer_service_portal/src/actions/action.js"],"names":["createAction","axios","issueConstants","logoutMe","LOGOUT","submitFB","SUBMIT_FEEDBACK","getProduct","PRODUCT_DETAILS","getPurchasedItems","PURCHASED_ITEMS","getFeedback","FEEDBACK_DETAILS","loginAction","data","dispatch","get","then","res","value","result","find","val","username","password","loginMe","isAuthenticated","type","user","logout","getPurchasedProductList","response","productList","catch","err","console","log","submitFeedback","method","crossdomain","JSON","stringify","headers","getProductDetails","pdtId","productDetail","getFeedbackDetails"],"mappings":"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","sourcesContent":["import { createAction } from 'redux-actions';\r\nimport axios from 'axios';\r\nimport issueConstants from '../constants/issueConstants.js';\r\n\r\nexport const logoutMe = createAction(issueConstants.LOGOUT);\r\nexport const submitFB = createAction(issueConstants.SUBMIT_FEEDBACK);\r\nexport const getProduct = createAction(issueConstants.PRODUCT_DETAILS);\r\nexport const getPurchasedItems = createAction(issueConstants.PURCHASED_ITEMS);\r\nexport const getFeedback = createAction(issueConstants.FEEDBACK_DETAILS);\r\n\r\nexport function loginAction(data) {\r\n  return dispatch => {\r\n    axios.get('http://localhost:4000/users')\r\n      .then((res) => {\r\n        let value = res.data\r\n        var result = value.find(val => val.username === data.username && val.password === data.password)\r\n        if (result) {\r\n          dispatch(loginMe(true, result.username))\r\n        }\r\n        else {\r\n          dispatch(loginMe(false))\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport function loginMe(isAuthenticated, username) {\r\n  return {\r\n    type: 'LOGIN',\r\n    isAuthenticated: isAuthenticated,\r\n    user: username\r\n  }\r\n}\r\n\r\n// LOGOUT ACTION\r\nexport function logout() {\r\n  return (dispatch) => {\r\n    dispatch(logoutMe())\r\n  }\r\n}\r\n\r\n// GET PRODUCT LIST\r\nexport function getPurchasedProductList() {\r\n  return (dispatch) => {\r\n    axios.get('http://localhost:4000/products')\r\n      .then((response) => dispatch(getPurchasedItems({productList: response.data})))\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n// SUBMIT_FEEDBACK\r\nexport function submitFeedback(data) {\r\n  return dispatch => {\r\n    axios(`http://localhost:4000/feedbackDetails`, {\r\n      method: 'POST',\r\n      crossdomain: true,\r\n      data: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => {\r\n        dispatch(submitFB(res.data))\r\n      })\r\n      .catch(err => dispatch(submitFB(err)))\r\n  }\r\n}\r\n\r\n// PRODUCT_DETAILS\r\nexport function getProductDetails(data) {\r\n  let pdtId = data.pdtId;\r\n  return dispatch => {\r\n    axios.get(`http://localhost:4000/products/${pdtId}`)\r\n      .then((res) => { dispatch(getProduct({productDetail: res.data})) })\r\n      .catch(err => dispatch(getProduct(err)))\r\n  }\r\n}\r\n\r\nexport function getFeedbackDetails(data) {\r\n  let pdtId = data.pdtId;\r\n  return dispatch => {\r\n    axios.get(`http://localhost:4000/feedbackDetails?pdtCode=${pdtId}`)\r\n      .then((res) => { dispatch(getFeedback(res.data)) })\r\n      .catch(err => dispatch(getFeedback(err)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}